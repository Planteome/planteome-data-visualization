<!DOCTYPE html>
<html lang="en-US">
	<head>
		<title>Gene Enrichment Analysis</title>

		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
		<link rel="stylesheet" href="./css/style.css">

		<!--<link href="css/style.css" rel="stylesheet" type="text/css" />!-->
		<script src='./js/bundle.js'></script>
		<script src='./js/funcs.js'></script>
		<script LANGUAGE="JavaScript" src="js/main.js" type="text/javascript"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
	</head>
	<body role="document" onload = "initialize()">
		<div class="container" role="main">
			<!--header of the page -->
			<div class="page-header" id="header">
				<h1>Gene Enrichment Analysis Tool</h1>
			</div>

			<!--content of the page -->
			<form role="form">
				<!--setting div-->
				<h2 title="Statistic Options">Setting</h2>
				<div id="statistic_methods_input" class="form-group">
					<label for="method">
						Static Methodï¼š
					</label>
					<select class="form-control" id="method">
						<option value="fisher">fisher's exact</option>
						<option value="hypergeometric">hypergeometric</option>
						<option value="chi-squared">chi-squared</option>
						<option value="fisher2">fisher's exact (more stable, experimental)</option>
					</select>
					<p class="help-block">
						When the input list is compared with the previously computed background, or is a subset of reference list, choose hypergeometric or fisher, for latter only when your query number is quite small. When the input list has few or no intersections with the reference list, the Chi-square tests are more appropriate.
					</p>
				</div>

				<div id="species_input" class="form-group">
					<label for="species">
						Species:
					</label>
					<select class="form-control" id="species">
					</select>
				</div>

				<div id="significance_input" class="form-group">
					<label for="significance">
						Significance Level:
					</label>
					<select class="form-control" id="significance">
						<option value="0.05">0.05</option>
						<option value="0.01">0.01</option>
					</select>
				</div>


				<!--interesting genes div -->
				<h2>Interesting Genes</h2>
				<div id="interesting_input" class="form-group">
					<textarea class="form-control" id="textarea_geneList"
						rows="5" placeholder="please input the interesting genes">
					</textarea>
					<p class="help-block">
						Please make sure your request in the format that contains two rows. first row is ID, second row is GO accession.<br/>
						For example: <br/>
						test_0001	GO:0000001<br/>
						test_0002	GO:0000002<br/>
						or the accession ID of gene product. e.g.:<br/>
						TAIR:locus:1005716561<br/>
						TAIR:locus:2031476<br/>
						TAIR:locus:2043067<br/>
						TAIR:locus:2044851<br/>
						TAIR:locus:2012612
					</p>
				</div>

				<!--reference background div -->
				<h2>Reference Background</h2>
				<div id="reference_input" class="form-group">
					<textarea class="form-control" id="textarea_backgroundList"
						rows="5" placeholder="please input the reference background">
					</textarea>
					<p class="help-block">please input the background reference data</p>
				</div>

				<!--buttons -->
				<button type="button" id="submit" class="btn btn-primary" onclick="my_submit()">Submit</button>
				<button type="button" id="reset" class="btn btn-default" onclick="my_reset()">Reset</button>
			</form>
			<br/>
			<!--content3 -->
			<div id="loading" hidden="true" class="alert alert-warning">
				<span class="glyphicon glyphicon-refresh spinning"></span> Processing...
			</div>

			<div hidden="true" id="results">
				<div class="page-header">
					<h2>Analysis Result</h2>
				</div>
				<div class="panel panel-default">
					<div class="panel-body">
						<p id="result_summary"></p>
					</div>
					<table class="table table-striped">
						<thead>
							<tr>
								<th>GO term</th>
								<th>Ontology</th>
								<th>Description</th>
								<th>Number in input list</th>
								<th>Number in BG/Ref</th>
								<th>p-value</th>
							</tr>
						</thead>
						<tbody id="result_table">
						</tbody>
					</table>
				</div>
			</div>
			<!--footer of the page -->
			<footer>
				<br/>
				<address>
					&copy;Planteome Project
				</address>
			</footer>
		</div>
	</body>
</html>
